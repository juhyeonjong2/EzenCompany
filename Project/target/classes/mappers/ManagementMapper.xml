<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Config 3.0//EN"
			"http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="ezen.ezencompany.mapper.managementMapper">

	<select id="selectAllCategory"  resultType="categoryVO">
		SELECT * FROM category;
	</select>
	
	<select id="selectCategory"  resultType="categoryVO">
		SELECT * FROM category WHERE cidx = #{cidx};
	</select>
	
	<select id="selectCategoryByCode"  resultType="categoryVO">
		SELECT * FROM category WHERE code = #{code.value};
	</select>
	
	<insert id="insertCategory"  parameterType="categoryVO" useGeneratedKeys="true" keyProperty="cidx">
		INSERT INTO category(code, value, blogview) VALUES(#{code}, #{value}, #{blogView});
	</insert>
	
	<update id="updateCategory"  parameterType="categoryVO">
		UPDATE category SET code=#{code}, value=#{value}, blogview=#{blogView} WHERE cidx = #{cidx};
	</update>
	
	<delete id="deleteCategory"  parameterType="int">
		DELETE FROM category WHERE cidx = #{cidx};
	</delete>

	<select id="selectAllAttribute"  resultType="attributeVO">
		SELECT * FROM attribute;
	</select>
	
	<select id="selectAttributes" parameterType="int" resultType="attributeVO">
		SELECT * FROM attribute WHERE cidx =#{cidx} ;
	</select>
	
	<select id="selectAttribute"  resultType="attributeVO">
		SELECT * FROM attribute WHERE aidx =#{aidx}
	</select>
	
	<insert id="insertAttribute"  parameterType="attributeVO" useGeneratedKeys="true" keyProperty="aidx">
		INSERT INTO attribute(cidx, value, otkey) VALUES(#{cidx}, #{value}, #{otkey});
	</insert>
	
	<update id="updateAttribute"  parameterType="categoryVO">
		UPDATE attribute SET cidx=#{cidx}, value=#{value}, otkey=#{otkey} WHERE aidx = #{aidx};
	</update>
	
	<delete id="deleteAttribute"  parameterType="int">
		DELETE FROM attribute WHERE aidx = #{aidx};
	</delete>
	
	
	<select id="selectAllBoardType"  resultType="boardTypeVO">
		SELECT * FROM boardtype;
	</select>
	
	<select id="selectAllBoardReader" resultType="boardReaderVO">
		SELECT * from boardreader;
	</select>
	
	<select id="selectBoardReaders" parameterType="int" resultType="boardReaderVO">
		SELECT * from boardreader WHERE bindex = #{bindex} ;
	</select>
	
	<select id="selectAllBoardWriter" resultType="boardWriterVO">
		SELECT * from boardwriter;
	</select>
	
	<select id="selectBoardWriters" parameterType="int" resultType="boardWriterVO">
		SELECT * from boardwriter WHERE bindex = #{bindex} ;
	</select>
	
	<insert id="insertBoardType"  parameterType="boardTypeVO" useGeneratedKeys="true" keyProperty="bindex">
		INSERT INTO boardtype(btname) VALUES(#{btname});
	</insert>
	
	<update id="updateBoardType"  parameterType="boardTypeVO">
		UPDATE boardtype SET btname=#{btname} WHERE bindex = #{bindex};
	</update>
	
	<delete id="deleteBoardType"  parameterType="int">
		DELETE FROM boardtype WHERE bindex = #{bindex};
	</delete>
	
	<insert id="insertBoardReader"  parameterType="boardReaderVO">
		INSERT INTO boardreader(bindex, reader, ridx) VALUES(#{bindex}, #{reader}, #{ridx});
	</insert>
	
	<insert id="insertBoardReaders"  parameterType="java.util.List">
		INSERT INTO boardreader(bindex, reader, ridx) VALUES
		<foreach collection="list" item="item" separator=",">
			(
				#{item.bindex}, 
				#{item.reader}, 
				#{item.ridx}
			)
		</foreach>
		;
	</insert>
	
	<delete id="deleteBoardReader"  parameterType="int">
		DELETE FROM boardreader WHERE bindex = #{bindex};
	</delete>
	
	<insert id="insertBoardWriter"  parameterType="boardWriterVO">
		INSERT INTO boardwriter(bindex, writer, widx) VALUES(#{bindex}, #{writer}, #{widx});
	</insert>
	
	<insert id="insertBoardWriters"  parameterType="java.util.List">
		INSERT INTO boardwriter(bindex, writer, widx) VALUES 
		<foreach collection="list" item="item" separator=",">
			(
				#{item.bindex}, 
				#{item.writer}, 
				#{item.widx}
			)
		</foreach>
	</insert>
	
	<delete id="deleteBoardWriter"  parameterType="int">
		DELETE FROM boardwriter WHERE bindex = #{bindex};
	</delete>
	
	
	
</mapper>