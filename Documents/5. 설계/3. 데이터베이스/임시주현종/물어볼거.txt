1-1 관리자로그인을 인코딩 한걸로 따로 만들어주는게 불편해서 관리자로그인 페이지를 따로 만들어서 시큐리티를 2개 만들려고 하는데
 시큐리티 2개 사용시 충돌남 -> 이번에 하기엔 늦은 듯 

1-2 시큐리티 로그인 시 정보는 어캐 사용하면 좋은지 (authentication.getPrincipal(); 이렇게 얻어서 직접 ?해서 날려주는건 아닌거 같음)
스프링 보드? mvc 등등에 **님이 로그인했습니다 같은거 있음 그거보고 하자










2 오늘 할일

8반복
 2반복8.1 = 2.1 && 8.1.1 = 2.1.1
 2반복8.1 = 2.2 && 8.1.1 = 2.1.2 
8반복

model 안에 넣을 데이터 : 게시판 조건테이블(json)과 모든 게시글(board), 로그인한 나의 옵션정보(option)
게시판 목록 설계
<반복문> (조건테이블만큼 반복json)
	<반복문(나의 옵션정보만큼 반복option)
	조건: <c:if test="${json.reader의 키값 eq 나의 cidx && json.reader의 내용값 안에 나의 aidx이 포함되는경우}">
		
		게시판이름$(json.name)
		더보기+ <a href="list/"+{${json.bindex}}> -> 이렇게 넣어서 꺼내쓰면 될듯

		<반복문3> json.bindex == board.bindex 가 같은 경우 
			게시글1 board.title <a href="상세보기/"+{${board.bno}}>  작성일은 ${board.bdate}
			게시글2
			게시글3
			게시글4
			게시글5
		</반복문3>
	</반복문2
</반복문1>

****추가 질문: 반복문2에서 게시글을 최대 5개만 보여주고 싶음
	      반복문에서 추가로 조건을 걸수가 있는지 질문
	      해당 board의 bindex당 최대 5개만 가져오는건 가능한지 모르겠다

	      (아래질문과 동일)반복문1의 reader의 내용값을 가져오는법
	     json.reader의 키값이 무한하게 늘어나게 되는데 나의 cidx와  json.reader의 키값을 비교할때 어캐하는지

1.json데이터 가져오는거 -> 문자열을 알맞게 분해하거나, 처음부터 잘 가져오거나
게시판 나열은 이게 되면 쉽게 가능해 보인다









https://velog.io/@zooneon/Java-ObjectMapper%EB%A5%BC-%EC%9D%B4%EC%9A%A9%ED%95%98%EC%97%AC-JSON-%ED%8C%8C%EC%8B%B1%ED%95%98%EA%B8%B0













2.알림,언급 설계
게시판 작업 후 -> 메세지(웹소켓)작업하면서 알림작업 -> 여유있다면 언급도 할 예정

알림 설계) 채팅을 보내던가, 나의 댓글,게시글에 댓글을 남기던가, 언급을 한다면
	회원번호에는 나의mno
	알림코드에는 맞게(채팅이면 dm으로하고 알림메세지에 ..가 "채팅을 보냈습니다" 이 부분을 넣으면 될듯함)
	대상회원번호에는 해당사람의 mno
	알림 확인에는 확인여부를 담고 확인한 경우 알림창에서 안보이든 색을 바꾸든 하는 함수를 넣으면 될듯
	
	그럼 알림작업을 보내는 경우(게시글,댓글,블로그,언급,채팅) 필요한 정보는
	 나의mno(그냥 시큐리티에서),상대방의mno(아마 쉽게 구할듯),알림코드(게시글,채팅에 있는 함수에 다이렉트로 적으면 될거같음)
	예) 게시글쪽은 게시글코드를 업데이트하는 매퍼출력, 채팅은 채팅코드를 업데이트하는 매퍼 출력
	더 좋은 방법은 할때마다 코드를 알아내어 넣어주는 건데 어차피 코드마다 다른게 해주는건 같다
	
	***여기서 물어볼건 알림db를 조회하는건 그냥 새로고침할때마다 해야하는건지 궁금함
		-> 그럼 헤더의 알림은 처음부터 데이터를 긁어오는 함수필요
	채팅하면서 사용한 웹소켓(아직 공부안함)을 그대로 복붙하거나 해서 쉽게 구현 가능한지
	(웹소켓 주소같은거는 알림, 채팅 둘다 헤더에 넣을거 같은데 그 경우 문제 없는지)

언급 설계) @이름 이렇게 치면 자바스크립트에서 손 땔때 0.3초 뒤 @와 연결된 문자열을 db에서 검색
	***이 경우 @이름 안녕하세요 이렇게 친다면 안녕하세요는 제외하고 @이름만 가져오는법 

   	@이름을 가져와서 @를 제외한뒤 ajax로 보내 그와 맞는 사원이 있는지 조사 후
	존재한다면 @이름(아이디) 를 넣어서 표시해아함
	ajax에서 받는건 아이디 or false를 받으면 될거같고 받으면 자바스크립트를 통해 @이름 부분을 잘라서 바꿔주면 됨
	(만약 동명이인이라면 팝업을 띄운 뒤(db조회후 아디 여러개를 전부 출력) 클릭 시 그걸 넣어줌)
	그 상태로 글을 쓰거나 댓글을 남긴다면 또 그 글에서 언급을 하겠다는 걸 알아야하는데
	
	**1111111  @이름(아이디) ㅇㅇㅇㅇ 상태에서 정보를 넣어놔 쉽게 찾는 방법이있는지
 	아니면 또 ajax에서 @이름(아이디) 를 찾아서 해야하는지 @리플레이스로 )까지

	그 후 알림 추가해서 발송하면 됨
	

채팅기능) 웹소켓 주소는 ws://localhost:8090/spring/chatserver 이렇게 나오는 거 같은데
	***ws://localhost:8090 이 부분의 주소는 ws://는 고정으로 localhost:8090는 배포하면 그 주소를 적어야하는지

	/spring/chatserver 이런거는 그냥 프로젝트의 채팅방으로 보내는듯




읽기권한 테이블 쓰기권한 테이블 분리
추가로 rindex와 windex넣어서 관리
게시판 목록 가져올때 백단에서 조인으로 해당되는것만
GROUP BY type 사용해서 묶고 리미트 사용해서 5개만 뿌린다
제네릭 사용해서 boardVO에서 리스트로 받을 수 있도록 만들어준다.
웹소켓 나눌거면 STomp 아니면 그냥 스프링 웹소켓





키페어 생성 -> 위치는 걍 워크스페이스에다가 저장 ->  네트워크 설정 전부 체크 -> 인스턴스 시작 -. 모든 인스턴스보 기
f!oFJ(Xhr9oh





